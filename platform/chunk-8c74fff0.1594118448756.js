(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c74fff0"],{"226e":function(e,i,t){"use strict";var a=t("67af"),s=t.n(a);s.a},"67af":function(e,i,t){},e717:function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"basic-info"},[e.isShowMainPage?[t("div",{staticClass:"edit-btn",staticStyle:{margin:"5px 20px 0 40px","text-align":"right"}},[1==e.type?t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleEdit}},[e._v("修改 ")]):e._e()],1),t("div",[t("div",{staticClass:"invoice-info"},[t("h3",{staticClass:"form-title"},[e._v("基本信息")]),t("ul",{staticClass:"invoice-info-box"},[t("li",[t("div",[e._v("SupplyX ID:")]),t("p",{staticStyle:{color:"red"}},[e._v(e._s(e.form.xid))])]),t("li",[t("div",[e._v("企业名称:")]),t("p",[e._v(e._s(e.form.enterName))])]),t("li",[t("div",[e._v("企业地址:")]),t("p",[e._v(e._s(e.form.enterAddress))])]),t("li",[t("div",[e._v("联系电话:")]),t("p",[e._v(e._s(e.form.enterTelNum))])]),t("li",[t("div",[e._v("联系人:")]),t("p",[e._v(e._s(e.form.liaisonMan))])]),t("li",[t("div",[e._v("联系邮件:")]),t("p",[e._v(e._s(e.form.enterMail))])])])]),t("div",{staticClass:"invoice-info"},[t("h3",{staticClass:"form-title"},[e._v("我的发票信息")]),t("ul",{staticClass:"invoice-info-box"},[t("li",[t("div",[e._v("发票抬头")]),t("p",[e._v(e._s(e.form.fpTitle))])]),t("li",[t("div",[e._v("公司税号")]),t("p",[e._v(e._s(e.form.fpTax))])]),t("li",[t("div",[e._v("注册地址")]),t("p",[e._v(e._s(e.form.fpRegAdd))])]),t("li",[t("div",[e._v("注册电话")]),t("p",[e._v(e._s(e.form.fpTel))])]),t("li",[t("div",[e._v("银行名称")]),t("p",[e._v(e._s(e.form.fpBankName))])]),t("li",[t("div",[e._v("银行账号")]),t("p",[e._v(e._s(e.form.fpBankNo))])])])]),t("div",{staticClass:"invoice-info"},[t("h3",{staticClass:"form-title"},[e._v("收票信息")]),t("ul",{staticClass:"invoice-info-box"},[t("li",[t("div",[e._v("收票人")]),t("p",[e._v(e._s(e.form.fpRecever))])]),t("li",[t("div",[e._v("联系电话")]),t("p",[e._v(e._s(e.form.fpRecTel))])]),t("li",[t("div",[e._v("详细地址")]),t("p",[e._v(e._s(e.form.fpRecAdd))])])])])])]:[t("div",{staticClass:"basic-form"},[t("el-form",{ref:"ruleForm",attrs:{model:e.form,"status-icon":"","label-width":"110px",size:"small",rules:e.rules,"inline-message":""}},e._l(e.fields,(function(i){return t("el-form-item",{key:i.index,attrs:{label:i.label,prop:i.model}},[t("el-input",{staticClass:"basic-input",staticStyle:{width:"60%"},attrs:{disabled:i.isDisabled,maxlength:i.maxlength?i.maxlength:""},model:{value:e.form[i.model],callback:function(t){e.$set(e.form,i.model,t)},expression:"form[item.model]"}})],1)})),1)],1),t("div",{staticClass:"edit-btn",staticStyle:{"padding-left":"40px","margin-top":"30px"}},[t("el-button",{attrs:{size:"small"},on:{click:e.handleBack}},[e._v("返回 ")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSave}},[e._v("保存 ")])],1)]],2)},s=[],l=t("61f7"),n={name:"basic-info",components:{EditBtns:function(e){return t.e("chunk-15bc3c40").then(function(){var i=[t("371a")];e.apply(null,i)}.bind(this)).catch(t.oe)}},data:function(){return{type:this.$store.getters.type,isShowMainPage:!0,form:{},supplyxId:"",fields:[{label:"企业名称:",model:"enterName",index:1,maxlength:100},{label:"企业地址:",model:"enterAddress",index:4,maxlength:100},{label:"联系电话:",model:"enterTelNum",index:6,maxlength:100},{label:"联系人:",model:"liaisonMan",index:7,maxlength:100},{label:"联系邮件:",model:"enterMail",index:8,maxlength:100},{label:"发票抬头:",model:"fpTitle",index:9,maxlength:100},{label:"公司税号:",model:"fpTax",index:10,maxlength:100},{label:"注册地址:",model:"fpRegAdd",index:11,maxlength:100},{label:"注册电话:",model:"fpTel",index:12,maxlength:100},{label:"银行名称:",model:"fpBankName",index:13,maxlength:100},{label:"银行账号:",model:"fpBankNo",index:14,maxlength:100},{label:"收票人:",model:"fpRecever",index:15,maxlength:100},{label:"收票人电话:",model:"fpRecTel",index:16,maxlength:100},{label:"收票人地址:",model:"fpRecAdd",index:17,maxlength:100}],rules:{enterName:[{required:!0,message:"请输入企业名称",trigger:"blur"},{validator:l["b"].bind(this),trigger:"blur"}],enterAddress:[{required:!0,message:"请输入企业地址",trigger:"blur"}],enterShortName:[{required:!0,message:"请输入企业简称",trigger:"blur"},{validator:l["b"].bind(this),trigger:"blur"}],enterTelNum:[{required:!0,message:"请输入联系电话",trigger:"blur"}],enterMail:[{required:!0,message:"请输入联系电话",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},validateFunc:function(e){var i;return this.$refs[e].validate((function(e){return e?(i=!0,i):(i=!1,i)})),i},isFormDisabled:!0,diffData:{}}},created:function(){this.getEnterpriseBasicInfo()},methods:{getEnterpriseBasicInfo:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$api.post(this.$lesUiPath.enterpriseBasicInfo,i).then((function(i){if(0==i.code)e.form=Object.assign({},i.data),e.copyForm=Object.assign({},i.data),e.supplyxId=i.data.xid,e.diffData={id:i.data.id};else if(i.msg)return e.$message.error(i.msg)}))},handleEdit:function(){this.isShowMainPage=!1},handleSave:function(){var e=this,i=this.validateFunc("ruleForm");if(i){delete this.form.xid,delete this.copyForm.xid;var t=this.diffDevinfo(this.copyForm,this.form,this.diffData),a=this.hasEditData(t);if(1==a)return this.$message.warning("未修改数据");this.$api.post(this.$lesUiPath.editEnterpriseBasicInfo,t).then((function(i){return 0==i.code?(e.getEnterpriseBasicInfo(),e.isShowMainPage=!0,e.$message.success("修改成功")):i.msg?e.$message.error(i.msg):void 0}))}},handleBack:function(){this.getEnterpriseBasicInfo(),this.isShowMainPage=!0},diffDevinfo:function(e,i,t){for(var a in i)e[a]!=i[a]?t[a]=i[a]:"id"!=a&&delete t[a];return t},hasEditData:function(e){var i=0;for(var t in e)i++;return i}}},r=n,o=(t("226e"),t("2877")),d=Object(o["a"])(r,a,s,!1,null,"39c84ef6",null);i["default"]=d.exports}}]);