(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fa3bcda"],{"2ca9":function(e,t,r){"use strict";var i=r("61e2"),a=r.n(i);a.a},"61e2":function(e,t,r){},"88a6":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"first-step"},[r("ProcessTitle",{attrs:{activeNum:2}}),r("div",{staticClass:"form-part"},[r("div",{staticClass:"detail-info-form"},[r("h3",[e._v("企业基本信息")]),r("el-form",{ref:"formRef",staticClass:"infor-form",attrs:{model:e.form,size:"mini","label-width":"100px",rules:e.rules}},[r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"企业名称",prop:"enterName"}},[r("el-input",{attrs:{placeholder:"请输入企业名称",maxlength:"30"},model:{value:e.form.enterName,callback:function(t){e.$set(e.form,"enterName","string"===typeof t?t.trim():t)},expression:"form.enterName"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"联系电话",placeholder:"请输入电话号码",prop:"enterTelNum"}},[r("el-input",{attrs:{type:"tel",maxlength:"100"},model:{value:e.form.enterTelNum,callback:function(t){e.$set(e.form,"enterTelNum","string"===typeof t?t.trim():t)},expression:"form.enterTelNum"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"企业地址",placeholder:"请输入企业地址",prop:"enterAddress"}},[r("el-input",{attrs:{maxlength:"100"},model:{value:e.form.enterAddress,callback:function(t){e.$set(e.form,"enterAddress","string"===typeof t?t.trim():t)},expression:"form.enterAddress"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"联系邮件",type:"email",placeholder:"企业找回密码使用",prop:"enterMail"}},[r("el-input",{attrs:{maxlength:"100"},model:{value:e.form.enterMail,callback:function(t){e.$set(e.form,"enterMail","string"===typeof t?t.trim():t)},expression:"form.enterMail"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"主要联系人",placeholder:"请输入姓名",prop:"liaisonMan"}},[r("el-input",{attrs:{maxlength:"100"},model:{value:e.form.liaisonMan,callback:function(t){e.$set(e.form,"liaisonMan","string"===typeof t?t.trim():t)},expression:"form.liaisonMan"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"联系人职务",placeholder:"请输入职位",prop:"position"}},[r("el-input",{attrs:{maxlength:"100"},model:{value:e.form.position,callback:function(t){e.$set(e.form,"position","string"===typeof t?t.trim():t)},expression:"form.position"}})],1)],1)],1)],1)],1),r("div",{staticClass:"detail-info-form"},[r("h3",[e._v("企业账户信息")]),r("el-form",{ref:"formRef3",staticClass:"infor-form",attrs:{model:e.enteradminForm,size:"mini",rules:e.rules3,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%",position:"relative"},attrs:{label:"管理员账号",prop:"enterAccount"}},[r("el-input",{attrs:{placeholder:"30长度以内英文数字的组合，管理员账号设置后不允许修改!",maxlength:"30"},model:{value:e.enteradminForm.enterAccount,callback:function(t){e.$set(e.enteradminForm,"enterAccount","string"===typeof t?t.trim():t)},expression:"enteradminForm.enterAccount"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%",position:"relative"},attrs:{label:"管理员手机",prop:"mobile"}},[r("el-input",{attrs:{maxlength:"11",placeholder:"手机号码用于密码找回!"},model:{value:e.enteradminForm.mobile,callback:function(t){e.$set(e.enteradminForm,"mobile","string"===typeof t?t.trim():t)},expression:"enteradminForm.mobile"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{staticStyle:{width:"90%",position:"relative"},attrs:{label:"验证码",prop:"code"}},[r("el-input",{attrs:{maxlength:"6"},model:{value:e.enteradminForm.code,callback:function(t){e.$set(e.enteradminForm,"code","string"===typeof t?t.trim():t)},expression:"enteradminForm.code"}},[r("template",{staticStyle:{color:"white","background-color":"#4A90E2","border-color":"#4A90E2"},slot:"append"},[r("el-button",{attrs:{size:"small",type:"primary",disabled:e.canClick},on:{click:e.validCode}},[e._v(" "+e._s(e.btnContent)+" ")])],1)],2)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"登陆密码",prop:"password"}},[r("el-input",{attrs:{type:"password",maxlength:"30"},model:{value:e.enteradminForm.password,callback:function(t){e.$set(e.enteradminForm,"password","string"===typeof t?t.trim():t)},expression:"enteradminForm.password"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"确认密码",prop:"checkPsd"}},[r("el-input",{attrs:{type:"password",maxlength:"30"},model:{value:e.enteradminForm.checkPsd,callback:function(t){e.$set(e.enteradminForm,"checkPsd","string"===typeof t?t.trim():t)},expression:"enteradminForm.checkPsd"}})],1)],1)],1)],1)],1)]),r("div",{staticClass:"edit-btn"},[r("el-button",{attrs:{size:"small",icon:"el-icon-back"},on:{click:e.handleBack}},[e._v("返回 ")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right",size:"small"},on:{click:e.handleNextStep}},[e._v("下一步 ")])],1)],1)},a=[],n=r("61f7"),l={name:"first-step",components:{ProcessTitle:function(e){return r.e("chunk-72b4d228").then(function(){var t=[r("a78a")];e.apply(null,t)}.bind(this)).catch(r.oe)},PageTitle:function(e){return r.e("chunk-00b8604d").then(function(){var t=[r("89dd")];e.apply(null,t)}.bind(this)).catch(r.oe)}},data:function(){var e=this,t=function(t,r,i){r?r!==e.enteradminForm.password?i(new Error("两次输入密码不一致!")):i():i(new Error("请再次输入密码"))};return{form:{enterName:"",enterTelNum:"",enterMail:""},rules:{enterTelNum:[{required:!0,message:"请输入联系电话",trigger:"blur"}],enterMail:[{required:!0,message:"请输入联系邮件",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],enterName:[{required:!0,message:"请输入企业名称",trigger:"blur"},{validator:n["b"].bind(this),trigger:"blur"}],enterShortName:[{validator:n["b"].bind(this),trigger:"blur"}],enterNameEn:[{required:!0,message:"请输入企业英文名称",trigger:"blur"}]},enteradminForm:{enterAccount:"",mobile:"",code:"",password:"",checkPsd:""},rules3:{enterAccount:[{required:!0,message:"请输入管理员账号",trigger:"blur"},{validator:n["a"].bind(this),message:"不允许邮箱注册",trigger:"blur"}],mobile:[{required:!0,message:"请输入管理员手机号码",trigger:"blur"},{validator:n["d"].bind(this),message:"请输入正确联系电话",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],checkPsd:[{required:!0,validator:t,trigger:"blur"}]},form2:{},btnContent:"获取验证码",canClick:!1,time:60,timer:"cloak"}},methods:{handleNextStep:function(){var e=this,t=this.validateFunc("formRef"),r=this.validateFunc("formRef3");if(console.log(t),console.log(r),t&&r){var i={};i.enterprise=Object.assign(this.form),i.enteradmin=this.enteradminForm,this.$api.post(this.$lesUiPath.enterpriseRegister,i).then((function(t){if(console.log("enterpriseRegister:"+t),0!=t.code)return e.$message.error(t.msg);e.$router.push({path:"/register/lastStep",query:{data:e.enteradminForm}})}))}},validateFunc:function(e){var t;return this.$refs[e].validate((function(e){return e?(t=!0,t):(t=!1,t)})),t},handleBack:function(){this.$router.go(-1)},validCode:function(){var e=this;if(!this.enteradminForm.mobile)return this.$message.warning("请先输入手机号码");var t={};t.mobile=this.enteradminForm.mobile,console.log(t),this.canClick=!0,this.getTimeOut(),this.$api.post(this.$lesUiPath.code,t).then((function(t){if(0!=t.code)return e.$message.error(t.msg)}))},getTimeOut:function(){var e=this;this.cloak=setInterval((function(){e.time--,e.time>0?e.btnContent=e.time+"s后重新发送":e.time<=0&&(window.clearInterval(e.cloak),e.btnContent="重新发送",e.time=60,e.canClick=!1)}),1e3)}}},o=l,s=(r("2ca9"),r("2877")),m=Object(s["a"])(o,i,a,!1,null,"30d70aa1",null);t["default"]=m.exports}}]);